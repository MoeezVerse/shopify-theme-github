{% schema %}
{
  "name": "Ev image & text",
  "settings": [
    {
      "type": "image_picker",
      "id": "comparison_image",
      "label": "Comparison Image",
      "info": "Upload the full 'Old Me / New Me' image (recommended size: 1200x600px)"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Most Comfortable Solution for a"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Bloat-Free Belly"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Bloating happens to the best of us, but with HeyShape Shapewear, you can</p>"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Call-to-Action Text",
      "default": "Get FREE"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Call-to-Action Link"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Text Size",
      "min": 12,
      "max": 36,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Title Size",
      "min": 16,
      "max": 72,
      "step": 1,
      "unit": "px",
      "default": 32
    }
  ],
  "presets": [
    {
      "name": "Ev image & text",
      "category": "Image"
    }
  ]
}
{% endschema %}

<style>
  .comparison-section {
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    box-sizing: border-box;
  }
  
  .comparison-image-container {
    position: relative;
    width: 100%;
    overflow: hidden;
    border-radius: 8px;
  }
  
  .comparison-image {
    width: 100%;
    height: auto;
    display: block;
  }
  
  .comparison-content {
    position: absolute;
    bottom: 20px;
    left: 0;
    right: 0;
    text-align: center;
    padding: 0 20px;
    color: {{ section.settings.text_color }};
  }
  
  .comparison-title {
    font-size: {{ section.settings.title_size }}px;
    font-weight: bold;
    margin-bottom: 5px;
    line-height: 1.2;
  }
  
  .comparison-subtitle {
    font-size: {{ section.settings.title_size | times: 0.8 }}px;
    font-weight: bold;
    margin-bottom: 15px;
    line-height: 1.2;
  }
  
  .comparison-description {
    font-size: {{ section.settings.text_size }}px;
    margin-bottom: 20px;
    line-height: 1.4;
  }
  
  .comparison-cta {
    display: inline-block;
    padding: 12px 30px;
    background-color: {{ section.settings.button_color }};
    color: {{ section.settings.button_text_color }};
    text-decoration: none;
    font-weight: bold;
    border-radius: 4px;
    font-size: {{ section.settings.text_size | plus: 2 }}px;
    transition: all 0.3s ease;
  }
  
  .comparison-cta:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }
  
  @media (max-width: 768px) {
    .comparison-title {
      font-size: {{ section.settings.title_size | times: 0.7 }}px;
    }
    
    .comparison-subtitle {
      font-size: {{ section.settings.title_size | times: 0.6 }}px;
    }
    
    .comparison-description {
      font-size: {{ section.settings.text_size | times: 0.9 }}px;
    }
    
    .comparison-content {
      position: relative;
      bottom: auto;
      padding: 20px 0 0;
      text-align: center;
    }
  }
  
  @media (max-width: 480px) {
    .comparison-title {
      font-size: {{ section.settings.title_size | times: 0.5 }}px;
    }
    
    .comparison-subtitle {
      font-size: {{ section.settings.title_size | times: 0.4 }}px;
    }
    
    .comparison-description {
      font-size: {{ section.settings.text_size | times: 0.8 }}px;
    }
    
    .comparison-cta {
      padding: 10px 20px;
    }
  }
</style>

<div class="comparison-section">
  <div class="comparison-image-container">
    {% if section.settings.comparison_image %}
      <img class="comparison-image" src="{{ section.settings.comparison_image | img_url: '1200x' }}" alt="Old Me vs New Me comparison">
    {% else %}
      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
    {% endif %}
    
    <div class="comparison-content">
      <h2 class="comparison-title">{{ section.settings.title }}</h2>
      <h3 class="comparison-subtitle">{{ section.settings.subtitle }}</h3>
      <div class="comparison-description">{{ section.settings.description }}</div>
      <a href="{{ section.settings.cta_link }}" class="comparison-cta">{{ section.settings.cta_text }}</a>
    </div>
  </div>
</div>